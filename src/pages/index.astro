---
import Footer from "../components/Footer.astro";
import ProgramScreen from "../components/ProgramScreen.astro";
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout>
    <Fragment slot="main">
        <section id="first">
            <div>
                <h1>Hello world</h1>
                <article><p>This is my personal website.</p></article>
                <div id="authorCard">
                    <ProgramScreen />
                </div>
            </div>
            <div class="hideOnMobile"></div>
            <Footer />
        </section>
    </Fragment>
</BaseLayout>

<style>
    section {
        padding: 1rem 1rem;
        padding-top: calc(var(--vh, 1vh) * 25);
        min-height: calc(var(--vh, 1vh) * 100);
        width: 100vw;
        display: flex;
        flex-direction: column;
        scroll-snap-align: start;
    }

    #first {
        justify-content: space-between;
    }

    #second {
        background-color: rgba(0, 0, 0, 0.1);
    }

    #authorCard {
        margin-top: 2rem;
    }
</style>

<script>
    function setVhProperty() {
        document.documentElement.style.setProperty(
            "--vh",
            `${window.innerHeight * 0.01}px`
        );
    }

    // Set the --vh custom property on page load with a slight delay
    window.addEventListener("load", () => {
        setTimeout(setVhProperty, 2000);
    });

    // Set the --vh custom property on resize with debounce
    let resizeTimeout: any;
    window.addEventListener("resize", () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(setVhProperty, 100);
    });
</script>
